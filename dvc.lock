schema: '2.0'
stages:
  get_data:
    cmd: python part2_dvc/scripts/data.py
    deps:
    - path: part2_dvc/scripts/data.py
      hash: md5
      md5: 9c6aa2bc1f0273fbf1500ed1a5cb0543
      size: 1272
    params:
      params.yaml:
        index_col: flat_id
    outs:
    - path: part2_dvc/data/initial_data.csv
      hash: md5
      md5: 036d89c17a2d9cc68658b6aed6917990
      size: 10259160
      cloud:
        my_storage_proj1:
          etag: 036d89c17a2d9cc68658b6aed6917990
          version_id: 0006315499AF4E10
  fit_model:
    cmd: python part2_dvc/scripts/fit.py
    deps:
    - path: part2_dvc/data/initial_data.csv
      hash: md5
      md5: 036d89c17a2d9cc68658b6aed6917990
      size: 10259160
    - path: part2_dvc/scripts/fit.py
      hash: md5
      md5: 60f0c97e1132659130f5ba87ce258c42
      size: 2342
    params:
      params.yaml:
        depth: 8
        index_col: flat_id
        iterations: 1000
        l2_leaf_reg: 3
        learning_rate: 0.05
        one_hot_drop: if_binary
        random_seed: 42
        target_col: target
        verbose: 100
    outs:
    - path: part2_dvc/models/fitted_model.pkl
      hash: md5
      md5: 16185ff18ab9c5276183bb3b94f049e7
      size: 4212239
      cloud:
        my_storage_proj1:
          etag: 16185ff18ab9c5276183bb3b94f049e7
          version_id: 0006315499B1283E
  evaluate_model:
    cmd: python part2_dvc/scripts/evaluate.py
    deps:
    - path: part2_dvc/models/fitted_model.pkl
      hash: md5
      md5: 16185ff18ab9c5276183bb3b94f049e7
      size: 4212239
    - path: part2_dvc/scripts/evaluate.py
      hash: md5
      md5: bb4239904ddc48ce166aa9c3f0e5102b
      size: 1272
    params:
      params.yaml:
        n_jobs: -1
        n_splits: 5
        random_seed: 42
        scoring:
        - neg_root_mean_squared_error
        - r2
        - neg_mean_absolute_error
        - neg_mean_absolute_percentage_error
        shuffle: true
        target_col: target
    outs:
    - path: part2_dvc/cv_results/cv_res.json
      hash: md5
      md5: 6b5c5d56094c431a42dbcec26340f7f3
      size: 206
      cloud:
        my_storage_proj1:
          etag: 6b5c5d56094c431a42dbcec26340f7f3
          version_id: 0006315499B005E4
